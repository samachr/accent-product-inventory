<link rel="import" href="./bower_components/polymer/polymer.html">
<link rel="import" href="./bower_components/iron-ajax/iron-ajax.html">

<dom-module id="ajax-user-popup-service">
  <style>
  :host {
    display: none;
  }
  </style>
  <template>

    <iron-ajax id="ajax"
      auto
      url="/users"
      on-response="tabsLoaded"
      handleAs="json">
    </iron-ajax>
  </template>
</dom-module>

<script>
Polymer({
  is: 'ajax-user-popup-service',
  properties: {
    users: Array,
  },
  created: function() {
    this.users = [];
  },
  tabsLoaded: function() {
    // Make a copy of the loaded data
    //this.users = this.$.ajax.response.slice(0);
    //console.log(this.users);
    this.fire('ajax-data-received');
  }
});
</script>
