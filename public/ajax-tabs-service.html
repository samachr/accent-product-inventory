<link rel="import" href="./bower_components/polymer/polymer.html">
<link rel="import" href="./bower_components/iron-ajax/iron-ajax.html">

<dom-module id="ajax-tabs-service">
  <style>
  :host {
    display: none;
  }
  </style>
  <template>
    <iron-ajax id="ajax"
      auto
      url="/brands"
      on-response="tabsLoaded"
      handleAs="json">
    </iron-ajax>
  </template>
</dom-module>

<script>
Polymer({
  is: "ajax-tabs-service",
  properties: {
    tabs: Array,
  },
  created: function() {
    this.tabs = [];
  },
  tabsLoaded: function(e) {
    // Make a copy of the loaded data
    this.tabs = e.detail.response.slice(0);
    //console.log(this.tabs);
    this.fire('ajax-data-received', {tabs: this.tabs});
  }
});
</script>
